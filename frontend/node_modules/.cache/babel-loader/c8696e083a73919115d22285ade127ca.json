{"ast":null,"code":"var _jsxFileName = \"D:\\\\LICENTA - PROGRESS - Copy\\\\frontend\\\\src\\\\Store.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Store = /*#__PURE__*/createContext();\nconst initialState = {\n  fullBox: false,\n  userInfo: localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null,\n  cart: {\n    validareComanda: localStorage.getItem('validareComanda') ? JSON.parse(localStorage.getItem('validareComanda')) : {\n      location: {}\n    },\n    paymentMethod: localStorage.getItem('paymentMethod') ? localStorage.getItem('paymentMethod') : '',\n    cartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SET_FULLBOX_ON':\n      return { ...state,\n        fullBox: true\n      };\n\n    case 'SET_FULLBOX_OFF':\n      return { ...state,\n        fullBox: false\n      };\n\n    case 'CART_ADD_ITEM':\n      // add to cart\n      const newItem = action.payload;\n      const existItem = state.cart.cartItems.find(item => item._id === newItem._id);\n      const cartItems = existItem ? state.cart.cartItems.map(item => item._id === existItem._id ? newItem : item) : [...state.cart.cartItems, newItem];\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\n      return { ...state,\n        cart: { ...state.cart,\n          cartItems\n        }\n      };\n\n    case 'CART_REMOVE_ITEM':\n      {\n        const cartItems = state.cart.cartItems.filter(item => item._id !== action.payload._id);\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return { ...state,\n          cart: { ...state.cart,\n            cartItems\n          }\n        };\n      }\n\n    case 'CART_CLEAR':\n      return { ...state,\n        cart: { ...state.cart,\n          cartItems: []\n        }\n      };\n\n    case 'USER_SIGNIN':\n      return { ...state,\n        userInfo: action.payload\n      };\n\n    case 'USER_SIGNOUT':\n      return { ...state,\n        userInfo: null,\n        cart: {\n          cartItems: [],\n          validareComanda: {},\n          paymentMethod: ''\n        }\n      };\n\n    case 'SAVE_SHIPPING_ADDRESS':\n      return { ...state,\n        cart: { ...state.cart,\n          validareComanda: action.payload\n        }\n      };\n\n    case 'SAVE_PAYMENT_METHOD':\n      return { ...state,\n        cart: { ...state.cart,\n          paymentMethod: action.payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(Store.Provider, {\n    value: value,\n    children: [props.children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n}\n\n_s(StoreProvider, \"h4meAN672mISt93ielJXXMKemns=\");\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"sources":["D:/LICENTA - PROGRESS - Copy/frontend/src/Store.js"],"names":["createContext","useReducer","Store","initialState","fullBox","userInfo","localStorage","getItem","JSON","parse","cart","validareComanda","location","paymentMethod","cartItems","reducer","state","action","type","newItem","payload","existItem","find","item","_id","map","setItem","stringify","filter","StoreProvider","props","dispatch","value","children"],"mappings":"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","sourcesContent":["import { createContext, useReducer } from 'react';\n\nexport const Store = createContext();\n\nconst initialState = {\n\tfullBox: false,\n\tuserInfo: localStorage.getItem('userInfo') ? JSON.parse(localStorage.getItem('userInfo')) : null,\n\n\tcart: {\n\t\tvalidareComanda: localStorage.getItem('validareComanda')\n\t\t\t? JSON.parse(localStorage.getItem('validareComanda'))\n\t\t\t: { location: {} },\n\t\tpaymentMethod: localStorage.getItem('paymentMethod') ? localStorage.getItem('paymentMethod') : '',\n\t\tcartItems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\n\t}\n};\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'SET_FULLBOX_ON':\n\t\t\treturn { ...state, fullBox: true };\n\t\tcase 'SET_FULLBOX_OFF':\n\t\t\treturn { ...state, fullBox: false };\n\n\t\tcase 'CART_ADD_ITEM':\n\t\t\t// add to cart\n\t\t\tconst newItem = action.payload;\n\t\t\tconst existItem = state.cart.cartItems.find((item) => item._id === newItem._id);\n\t\t\tconst cartItems = existItem\n\t\t\t\t? state.cart.cartItems.map((item) => (item._id === existItem._id ? newItem : item))\n\t\t\t\t: [ ...state.cart.cartItems, newItem ];\n\t\t\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems));\n\t\t\treturn { ...state, cart: { ...state.cart, cartItems } };\n\t\tcase 'CART_REMOVE_ITEM': {\n\t\t\tconst cartItems = state.cart.cartItems.filter((item) => item._id !== action.payload._id);\n\t\t\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems));\n\t\t\treturn { ...state, cart: { ...state.cart, cartItems } };\n\t\t}\n\t\tcase 'CART_CLEAR':\n\t\t\treturn { ...state, cart: { ...state.cart, cartItems: [] } };\n\n\t\tcase 'USER_SIGNIN':\n\t\t\treturn { ...state, userInfo: action.payload };\n\t\tcase 'USER_SIGNOUT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserInfo: null,\n\t\t\t\tcart: {\n\t\t\t\t\tcartItems: [],\n\t\t\t\t\tvalidareComanda: {},\n\t\t\t\t\tpaymentMethod: ''\n\t\t\t\t}\n\t\t\t};\n\t\tcase 'SAVE_SHIPPING_ADDRESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: {\n\t\t\t\t\t...state.cart,\n\t\t\t\t\tvalidareComanda: action.payload\n\t\t\t\t}\n\t\t\t};\n\n\t\tcase 'SAVE_PAYMENT_METHOD':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcart: { ...state.cart, paymentMethod: action.payload }\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function StoreProvider(props) {\n\tconst [ state, dispatch ] = useReducer(reducer, initialState);\n\tconst value = { state, dispatch };\n\treturn <Store.Provider value={value}>{props.children} </Store.Provider>;\n}\n"]},"metadata":{},"sourceType":"module"}